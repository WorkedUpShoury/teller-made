\documentclass[10pt]{article}

% ---------- Packages ----------
\usepackage[margin=0.6in]{geometry}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[hidelinks]{hyperref}
\usepackage{enumitem}
\usepackage{titlesec}
\usepackage{xcolor}
\usepackage{ragged2e}
\usepackage[final]{microtype}
\usepackage[none]{hyphenat}

% ---------- Compact but breathable styling ----------
\RaggedRight
\sloppy
\flushbottom
\linespread{1.06}                      % overall line spacing
\hyphenpenalty=10000
\exhyphenpenalty=10000
\emergencystretch=2em

\setlength{\parindent}{0pt}
\setlength{\parskip}{4pt plus 1.5pt minus 1pt}  % paragraph/line breathing room

\setlist[itemize]{
  left=1.6em,
  itemsep=3pt plus 1.5pt minus 1pt,             % space between bullets
  topsep=3pt plus 1.5pt minus 1pt,
  parsep=0pt plus 0.5pt minus 0.5pt
}

% Section look & spacing (no \titlerule â€” use our own rule macro)
\titleformat{\section}{\bfseries\large\uppercase}{\thesection}{0.5em}{}
\titlespacing*{\section}{0pt}{7pt plus 3pt minus 2pt}{6pt plus 2pt minus 2pt}

% A portable section underline rule (MiKTeX-safe)
\newcommand{\sectrule}{\par\vspace{-2pt}\noindent\rule{\linewidth}{0.4pt}\par\vspace{-2pt}}

\pagestyle{empty}

\begin{document}

% =======================
% Header
% =======================
\begin{center}
{\LARGE\bfseries [[ resume.first_name|tex ]] [[ resume.last_name|tex ]]}\\[-1pt]
\small
(% if resume.email %) \href{mailto:[[ resume.email|tex ]]}{[[ resume.email|tex ]]} (% endif %)
(% if resume.phone %) \,|\, [[ resume.phone|tex ]] (% endif %)
(% if resume.location %) \,|\, [[ resume.location|tex ]] (% endif %)\\
(% if resume.links %)
(% for link in resume.links %)
\href{[[ link.url|tex ]]}{[[ link.label|tex ]]}(% if not loop.last %) \,|\, (% endif %)
(% endfor %)
(% endif %)
\end{center}

% =======================
% Ordered Sections (Summary -> Education -> Projects -> Skills -> Certifications)
% Uses resume.section_order if provided; otherwise falls back to that exact order.
% =======================
(% set __order = resume.section_order or ['summary','education','projects','skills','certifications'] %)
(% for __sec in __order %)

  (% if __sec == 'summary' and resume.show_summary and resume.summary %)
    \section*{Summary}\sectrule
    [[ resume.summary|tex ]]

  (% elif __sec == 'education' and resume.education %)
    \section*{Education}\sectrule
    (% for edu in resume.education or [] %)
    \textbf{[[ edu.degree|tex ]]} --- [[ edu.institution|tex ]]
    (% if edu.location %) \hfill [[ edu.location|tex ]] (% endif %)\\
    (% if edu.graduation_year %)Graduated: [[ edu.graduation_year|tex ]] \\(% endif %)

    (% if edu.details %)
    \begin{itemize}
    (% for d in edu.details or [] %)
      \item [[ d|tex ]]
    (% endfor %)
    \end{itemize}
    (% endif %)
    \vspace{6pt plus 2pt minus 1pt}
    (% endfor %)

  (% elif __sec == 'projects' and resume.projects %)
    \section*{Projects}\sectrule
    (% for p in resume.projects or [] %)
    \noindent
    \textbf{[[ p.name|tex ]]}%
    (% if p.link %) \,(\href{[[ p.link|tex ]]}{Link}) (% endif %)
    \hfill
    (% if p.tech %)\emph{[[ p.tech|tex ]]}(% endif %)\\
    (% if p.start_date %)\emph{[[ p.start_date|tex ]]} -- \emph{[[ p.end_date or "Present"|tex ]]} \\(% endif %)
    (% if p.summary %){\small [[ p.summary|tex ]]} \\(% endif %)

    (% if p.bullets %)
    \begin{itemize}
    (% for b in p.bullets or [] %)
      \item [[ b|tex ]]
    (% endfor %)
    \end{itemize}
    (% endif %)
    \vspace{6pt plus 2pt minus 1pt}
    (% endfor %)

  (% elif __sec == 'skills' and (resume.skills_row1 or resume.skills_row2 or resume.skills_row3 or resume.skills) %)
    \section*{Technical \& Creative Skills}\sectrule
    (% if resume.skills_row1 or resume.skills_row2 or resume.skills_row3 %)
      (% if resume.skills_row1 %) \textbf{Design Tools:} [[ resume.skills_row1|tex ]]\\ (% endif %)
      (% if resume.skills_row2 %) \textbf{Web/Tech Skills:} [[ resume.skills_row2|tex ]]\\ (% endif %)
      (% if resume.skills_row3 %) \textbf{Content Expertise:} [[ resume.skills_row3|tex ]] (% endif %)
    (% else %)
      % Fallback: flat skills list if row strings aren't present
      [[ (", ".join(resume.skills))|tex ]]
    (% endif %)

  (% elif __sec == 'certifications' and resume.certifications %)
    \section*{Certifications}\sectrule
    \begin{itemize}
    (% for c in resume.certifications or [] %)
      \item \textbf{[[ c.name|tex ]]}%
      (% if c.issuer %) --- [[ c.issuer|tex ]] (% endif %)
      (% if c.date %) \,([[ c.date|tex ]])(% endif %)
      (% if c.link %) \,(\href{[[ c.link|tex ]]}{Verify}) (% endif %)
      (% if c.description %)\\{\small [[ c.description|tex ]]}(% endif %)
    (% endfor %)
    \end{itemize}

  (% endif %)

(% endfor %)

\end{document}
